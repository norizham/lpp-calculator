<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>LPP Calculator</title>
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background: #f2f4f8;
      color: #222;
    }

    .page {
      max-width: 1300px;
      margin: 20px auto;
      padding: 0 15px 30px;
    }

    .container {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 25px;
    }

    /* Bigger images = wider right column */
    .left-column {
      flex: 1.3;   /* was 1.8 */
    }

    .right-column {
      flex: 1.7;   /* was 1.2 --> now 1.5× bigger */
      text-align: right;
    }

    .card {
      background: #ffffff;
      border-radius: 10px;
      padding: 18px 20px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.08);
    }

    h1 {
      margin-top: 0;
      margin-bottom: 0.4em;
      font-size: 1.6em;
    }

    fieldset {
      margin-bottom: 15px;
      padding: 10px 15px;
      border-radius: 6px;
      border: 1px solid #ccc;
      background: #fff;
    }

    legend {
      font-weight: bold;
      padding: 0 4px;
    }

    .grid {
      display: grid;
      grid-template-columns: 1fr 120px;
      gap: 6px 10px;
      align-items: center;
      margin-bottom: 5px;
    }

    label {
      font-size: 0.95em;
    }

    input[type="number"] {
      width: 100%;
      padding: 4px;
      border-radius: 4px;
      border: 1px solid #bbb;
    }

    .buttons {
      margin: 15px 0;
    }

    button {
      padding: 8px 16px;
      margin-right: 10px;
      cursor: pointer;
      border-radius: 4px;
      border: 1px solid #1f6feb;
      background: #2563eb;
      color: #fff;
      font-size: 0.95em;
    }

    button:nth-child(2) {
      background: #ffffff;
      color: #2563eb;
    }

    button:nth-child(3) {
      background: #10b981;
      border-color: #059669;
    }

    .results {
      background: #f9fafb;
      padding: 10px 15px;
      border-radius: 6px;
      border: 1px solid #e5e7eb;
      font-size: 0.95em;
    }

    .results p {
      margin: 4px 0;
    }

    .highlight {
      font-weight: bold;
      font-size: 1.1em;
      margin-top: 8px;
    }

    /* ? IMAGES 1.5× BIGGER ? */
    .right-column img {
      width: 100%;
      height: auto;
      margin-bottom: 25px;
      border-radius: 8px;
      padding: 6px;
      background: #ffffff;
      box-shadow: 0 3px 12px rgba(0,0,0,0.12);
    }

    /* Mobile layout: stack */
    @media (max-width: 900px) {
      .container {
        flex-direction: column;
      }
      .right-column {
        text-align: center;
      }
    }
  </style>
</head>
<body>

<div class="page">

  <div class="container">

    <!-- LEFT CALCULATOR PANEL -->
    <div class="left-column">
      <div class="card">
        <h1>LPP Calculator</h1>
        <p>Masukkan markah (0–100). Semua formula mengikut Excel rasmi LPP.</p>

        <!-- X1 -->
        <fieldset>
          <legend>X1 – Komponen Kuantitatif (maks 60)</legend>
          <div class="grid">
            <label>X1: M1 Q1 &amp; Q2 (C4)</label>
            <input id="x1_q1q2" type="number" value="0">

            <label>X1: M1 Q1–Q4 (C5)</label>
            <input id="x1_q1q4" type="number" value="0">

            <label>X1: M1 Geran (C6)</label>
            <input id="x1_geran" type="number" value="0">

            <label>X1: M2 Penyeliaan (C7)</label>
            <input id="x1_penyeliaan" type="number" value="0">

            <label>X1: M2 Pengajaran (C8)</label>
            <input id="x1_pengajaran" type="number" value="0">
          </div>
        </fieldset>

        <!-- X2 -->
        <fieldset>
          <legend>X2 – Penerbitan & Geran (maks 40)</legend>
          <div class="grid">
            <label>X2: Kualiti Penerbitan 1 (C10)</label>
            <input id="x2_pub1" type="number" value="0">

            <label>X2: Kualiti Penerbitan 2 (C11)</label>
            <input id="x2_pub2" type="number" value="0">

            <label>X2: Geran (C12)</label>
            <input id="x2_geran" type="number" value="0">
          </div>
        </fieldset>

        <!-- M3–M5 -->
        <fieldset>
          <legend>M3, M4, M5 – Komponen Kualitatif (maks 28)</legend>
          <div class="grid">
            <label>M3 (Kepimpinan)</label>
            <input id="m3" type="number" value="0">

            <label>M4 (Perundingan)</label>
            <input id="m4" type="number" value="0">

            <label>M5 (Khidmat Universiti)</label>
            <input id="m5" type="number" value="0">
          </div>
        </fieldset>

        <!-- Y -->
        <fieldset>
          <legend>Y – Hasil Kerja & Impak (maks 20)</legend>
          <div class="grid">
            <label>Y1 – Hasil Kerja PTJ</label>
            <input id="y1" type="number" value="0">

            <label>Y2 – Naratif Impak</label>
            <input id="y2" type="number" value="0">
          </div>
        </fieldset>

        <!-- CPD -->
        <fieldset>
          <legend>Z – CPD (maks 10)</legend>
          <div class="grid">
            <label>CPD</label>
            <input id="cpd" type="number" value="0">
          </div>
        </fieldset>

        <!-- Buttons -->
        <div class="buttons">
          <button onclick="calculateLPP()">Calculate</button>
          <button onclick="resetForm()">Clear Results</button>
          <button onclick="resetToZero()">Reset All to Zero</button>
        </div>

        <!-- Results -->
        <div class="results" id="results">
          <h3>Results</h3>
          <p id="x1Result"></p>
          <p id="x2Result"></p>
          <p id="comp42Result"></p>
          <p id="m3m4m5Result"></p>
          <p id="totalXResult"></p>
          <p id="y1y2Result"></p>
          <p id="cpdResult"></p>
          <p class="highlight" id="finalResult"></p>
        </div>

      </div>
    </div>

    <!-- RIGHT IMAGES (1.5× bigger) -->
    <div class="right-column">
      <img src="logo.png" alt="Logo">
      <img src="pub_table.png" alt="Publication Table">
      <img src="grant_table.png" alt="Grant Table">
    </div>

  </div>

</div>

<script>

  function val(id) {
    let el = document.getElementById(id);
    let v = parseFloat(el.value);
    if (isNaN(v)) v = 0;
    if (v < 0) v = 0;
    if (v > 100) v = 100;
    el.value = v;
    return v;
  }

  function calculateLPP() {
    const r = (x) => x.toFixed(2);

    // X1
    const C4 = val('x1_q1q2');
    const C5 = val('x1_q1q4');
    const C6 = val('x1_geran');
    const C7 = val('x1_penyeliaan');
    const C8 = val('x1_pengajaran');

    const sumX1 = C4 + C5 + C6 + C7 + C8;
    const x1Raw = (sumX1 / 500) * 60;
    const x1Avg = sumX1 / 5;

    // X2
    const C10 = val('x2_pub1');
    const C11 = val('x2_pub2');
    const C12 = val('x2_geran');

    const x2Raw = ((((C10 + C11) / 200) + (C12 / 100)) / 2) * 40;

    const comp42 = ((x1Raw + x2Raw) / 100) * 42;

    // M3, M4, M5 best 2 of 3
    let arr = [val('m3'), val('m4'), val('m5')];
    arr.sort((a,b)=>b-a);
    const mBestAvg = (arr[0] + arr[1]) / 2;
    const mScore = (mBestAvg / 100) * 28;

    const totalX = comp42 + mScore;

    const yTotal = (val('y1') / 100) * 10 + (val('y2') / 100) * 10;
    const cpdScore = (val('cpd') / 100) * 10;

    const finalTotal = totalX + yTotal + cpdScore;

    // Display
    document.getElementById('x1Result').textContent =
      `X1 = ${r(x1Raw)} / 60 (avg = ${r(x1Avg)})`;

    document.getElementById('x2Result').textContent =
      `X2 = ${r(x2Raw)} / 40`;

    document.getElementById('comp42Result').textContent =
      `Komponen Kuantitatif = ${r(comp42)} / 42`;

    document.getElementById('m3m4m5Result').textContent =
      `M3–M5 (2 terbaik) = ${r(mScore)} / 28`;

    document.getElementById('totalXResult').textContent =
      `Jumlah X = ${r(totalX)} / 70`;

    document.getElementById('y1y2Result').textContent =
      `Y1 + Y2 = ${r(yTotal)} / 20`;

    document.getElementById('cpdResult').textContent =
      `CPD = ${r(cpdScore)} / 10`;

    document.getElementById('finalResult').textContent =
      `FINAL LPP SCORE = ${r(finalTotal)} / 100`;
  }

  function resetForm() {
    document.getElementById('results').querySelectorAll('p').forEach(p => p.textContent = '');
  }

  function resetToZero() {
    document.querySelectorAll('input[type="number"]').forEach(i => i.value = 0);
    resetForm();
    calculateLPP();
  }

</script>

</body>
</html>